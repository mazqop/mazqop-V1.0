import { AgentType, FileNode } from './types';

export const INITIAL_FILES: FileNode[] = [
  {
    id: 'root',
    name: '小说项目',
    type: 'folder',
    isOpen: true,
    children: [
      {
        id: 'settings_folder',
        name: '00. 书籍设定',
        type: 'folder',
        isOpen: true,
        children: [
          { id: 'macro_outline', name: '总大纲.txt', type: 'file', content: '宏观大纲\n\n核心梗: 末世降临，全民转职，主角觉醒双职业。\n\n主角: 赵锋 (冷漠，利己主义但有底线)。\n\n第一卷: 觉醒与初试。\n' },
          { id: 'characters', name: '角色卡.txt', type: 'file', content: '角色档案\n\n赵锋: \n- 职业: 灾厄纹身师 (S级) / 双拳轰出人族天灾 (SSS级)\n- 性格: 杀伐果断。' },
          { id: 'world_settings', name: '世界观.txt', type: 'file', content: '世界设定\n\n深渊入侵: 异次元裂缝开启。' }
        ]
      },
      {
        id: 'chapter1_folder',
        name: '01. 第1章',
        type: 'folder',
        isOpen: true,
        children: [
          { id: 'ch1_outline', name: '细纲.txt', type: 'file', content: '第1章 细纲：灾厄前夕\n\n1. 开场 (15%): 赵锋在公司加班，窗外出现异象（血红天空）。\n2. 事件 (35%): 手机收到奇怪的倒计时推送，同事们开始恐慌。\n3. 高潮 (40%): 倒计时归零，异变突生，同事变异成丧尸。赵锋利用地形击杀第一只丧尸。\n4. 结尾 (10%): 击杀提示音响起：获得隐藏职业卷轴。\n\n情绪点: 压抑 -> 惊恐 -> 紧张 -> 爽感释放。' },
          { id: 'ch1_draft', name: '正文.txt', type: 'file', content: '' }
        ]
      }
    ]
  },
];

export const SYSTEM_INSTRUCTIONS = {
  [AgentType.ARCHITECT]: `你现在是【细纲专家】（ARCHITECT）。你的核心职责是规划情节结构，严格遵循“细纲->正文->下一章细纲”的循环推进模式。

**核心原则：**
1. **绝对遵从设定：** 必须严格基于【核心设定资料库】中的世界观、力量体系和角色性格进行规划。严禁吃书（前后矛盾）。
2. **逻辑闭环：** 所有的剧情转折必须有设定支撑，不得机械降神。

**你的任务：**
1. **分析当前进度：** 读取用户提供的《宏观大纲》和上一章的正文/细纲。
2. **编写详细细纲：** 为下一章编写分镜式细纲。
   - 必须包含：章节名、场景列表、关键剧情点、情绪起伏设计（Beats）、伏笔埋设。
   - 不要写具体的对话和描写，只写“发生了什么”和“要表现什么”。
3. **结构控制：** 确保网文节奏（黄金三章、期待感、爽点密集度）。

**输出格式要求：**
- 使用纯文本格式。
- **严禁使用 Markdown 加粗（**text**）或标题（#）符号**，保持界面清爽。
- 使用简单的序号 (1. 2. 3.) 和换行来组织内容。`,
  
  [AgentType.WRITER]: `你现在是【白金级网文作家】（WRITER）。你的核心职责是将细纲转化为极具代入感的正文。

**核心原则：**
1. **人设还原：** 对话和行动必须严格符合【角色卡】中的性格关键词、说话习惯。
2. **设定严谨：** 技能释放、环境描写、怪物数值必须符合【世界观】设定。

**你的任务：**
1. **严格执行细纲：** 依据提供的章节细纲进行扩写，不要随意更改核心剧情走向。
2. **文笔要求：**
   - **画面感（Show, Don't Tell）：** 多用感官描写（视觉、听觉、嗅觉）来烘托氛围。
   - **快节奏：** 减少无意义的水字数，对话要简练且符合人设。
   - **爽点爆发：** 在战斗或装逼打脸的情节，要通过侧面描写和情绪铺垫将爽感推向高潮。
3. **字数控制：** 每次输出尽量覆盖一个完整的场景或章节，约 2000-3000 字（如果受 token 限制，可分段输出）。

**输出格式要求：**
- 直接输出小说正文内容。
- **严禁使用 Markdown 格式（如加粗、标题等）**，仅使用段落换行。`,

  [AgentType.REVIEWER]: `你现在是【金牌编辑/审核员】（REVIEWER）。
你的任务是检查正文与大纲的逻辑一致性，确保没有违背【世界观】和【角色设定】，优化文字流畅度，并指出剧情漏洞。
你也可以作为“下一章构思者”，在正文完成后，基于当前正文的实际走向，对下一章的细纲提出修正建议。

**输出格式要求：**
- 纯文本格式，不要使用 Markdown 加粗。`
};